<ion-view view-title="trackmyhealth" name="my-health-view">

    <ion-nav-title>
    <img src="img/icon.png" style="max-width: 35px;
    max-height: 30px;
    width: 100%;
    height: 100%;margin-top:10px"/>

        <span>trackmyhealth</span>

    </ion-nav-title>
        <ion-nav-buttons side="right" >

            <button class="button button-clear" ng-click="showFilterBar()">
             <i class=" ion-search icon-btn-customize"></i>
            </button>
            <button class="button button-clear" on-touch="openPopover($event)">
                <i class="ion-android-more-vertical icon-btn-customize"></i>
            </button>
    </ion-nav-buttons>

<ion-floating-menu menu-color="#d14836" menu-open-color="#d14836" iconColor="#fff">
	  <ion-floating-item icon="ion-clipboard" ng-click="openModal1()" on-tap="tracker('Allergies', 'Allergy Details')" button-color= "#d14836" iconColor="#fff" text="Allergies">Allergies</ion-floating-item>
    <ion-floating-item icon="ion-medkit" ng-click="openModal1()" on-tap="tracker('Medication', 'Medication Details')" button-color= "#d14836" iconColor="#fff" text="Medication"></ion-floating-item>
    <ion-floating-item icon="ion-ios-speedometer" ng-click="openModal1()" on-tap="tracker('Weight', 'Weight')" button-color= "#d14836" iconColor="#fff" text="Weight" ></ion-floating-item>
    <ion-floating-item icon="ion-waterdrop" ng-click="openModal1()" on-tap="tracker('Blood Pressure', 'Blood Pressure')" button-color= "#d14836" iconColor="#fff" text="Blood Pressure" ></ion-floating-item>
    <ion-floating-item icon="ion-stats-bars" ng-click="openModal1()" on-tap="tracker('Blood Sugar', 'Blood Sugar')" button-color= "#d14836" iconColor="#fff" text="Blood Sugar" ></ion-floating-item>
</ion-floating-menu>
<ion-content>
	<div class="card">
		<div class="item item-body" style="background-color: #d14836">
		<h3>Allergies</h3>
		<h3>Medication</h3>
		<h3>Weight</h3>
		<h3>Blood Pressure</h3>
		<h3>Blood Sugar</h3>
		</div>
	</div>
<div class="h-list">
        <div class="item-card active">
            <div class="padding">
                </div>
                  <div class="visits-block text-muted">

                <div class="visits" >
                    <div class="timeline">
                      <div class="row"  ng-repeat="details in healthdetails track by $index">
                        <div class="left">
                           <div class="circle">
                               <div class="day">{{details.createdat.day}}</div>
                               <div class="month"><small>{{details.medicalprofile[0].recorddate|date:"MMM"}}</small></div>
                           </div>
                        </div>
                        <div class="right" style="width:100%">
                                <div class="notification">
                                    <div class="message">
                                      <div ng-repeat="medicalprofiledata in details.medicalprofile">
 <p ng-show="medicalprofiledata.profile[0].weight.value !== null && medicalprofiledata.profile[0].weight.value !== ''"><strong>Weight : {{medicalprofiledata.profile[0].weight.value}} Kg </strong></p>
 <p ng-show="medicalprofiledata.profile[0].bloodsugar.rbs !== null && medicalprofiledata.profile[0].bloodsugar.rbs !== ''"><strong>Random Blood Sugar(rbs) : {{medicalprofiledata.profile[0].bloodsugar.rbs}} mg/dl</strong></p>
 <p ng-show="medicalprofiledata.profile[0].bloodsugar.ppbs !== null && medicalprofiledata.profile[0].bloodsugar.ppbs !== ''"><strong>Post Pandrial Blood Sugar(ppbs) : {{medicalprofiledata.profile[0].bloodsugar.ppbs}} mg/dl</strong></p>
 <p ng-show="medicalprofiledata.profile[0].bloodsugar.fbs !== null && medicalprofiledata.profile[0].bloodsugar.fbs !== ''"><strong>Fasting Blood Sugar(fbs) : {{medicalprofiledata.profile[0].bloodsugar.fbs}} mg/dL</strong></p>
 <p ng-show="medicalprofiledata.profile[0].bloodpressure.systolic !== null && medicalprofiledata.profile[0].bloodpressure.systolic !== ''"><strong>Blood Pressure : {{medicalprofiledata.profile[0].bloodpressure.systolic}} / {{ medicalprofiledata.profile[0].bloodpressure.diastolic }} mm hg</strong></p>
 <p ng-show="medicalprofiledata.profile[0].allergies.value !== null && medicalprofiledata.profile[0].allergies.value !== ''"><strong>Allergies : {{medicalprofiledata.profile[0].allergies.value}}</strong></p>
 <p ng-show="medicalprofiledata.profile[0].medication.value !== null && medicalprofiledata.profile[0].medication.value !== ''"><strong>Medication : {{medicalprofiledata.profile[0].medication.value}}</strong> </p>

<!-- <button class="button button-small button-clear button-assertive ion-edit" ng-click="openModal1()" on-tap="tracker6()"></button> -->
                                    </div>
				              </div>
                        </div>
                    </div>
                </div>
             </div>
          </div>
      </div>
   </div>
</ion-content>


	<!--div class="bar bar-footer bar-light"><div class="title"></div><div class="buttons buttons-right"><button class="button button-assertive button-fab"><i class="icon ion-code light"></i></button></div></div-->

<script id="medicalprofile.html" type="text/ng-template">
     <ion-modal-view>

    <ion-header-bar class="bar-positive">
      <h1 class="title">{{title}}</h1>
        <button class="button button-clear button-primary" ng-click="closeModal1()"><i class="icon ion-android-close"></i></button>
    </ion-header-bar>
  <ion-content class="padding" scroll="false"><!--style="background-color: rgba(178, 199, 218, 0.79);"-->
      <form name="timeLineForm" >
			<div class="list" ng-if="trackername === 'Weight'">
           		<div class="item item-divider">
			 		          <div class="pull-left" >{{tdate | date: "dd MMM yy hh:mm a"}}</div>
				      </div>
				<label class="item item-input item-floating-label">
            	<span class="input-label">Weight</span>
            	<input type="number" placeholder="Weight Ex : 63. kg" name="weight" ng-model="data.weight.value">
				</label>
		 		<label class="item item-input item-floating-label">
			  	<span class="input-label">Notes</span>
    			<textarea placeholder="Notes" ng-model="data.weight.notes"></textarea>
				</label>
			</div>

      <div class="list" ng-if="trackername === 'Blood Sugar'" >
				<div class="item item-divider">
				 	<div class="pull-left" >{{tdate | date: "dd MMM yy hh:mm a"}}</div>
				</div>
			<!--  <label class="item item-input item-floating-label">
				<span class="input-label">Blood Sugar</span>
				<input type="number" placeholder="Blood sugar ex- 100 mg-DL" name="height" ng-model="data.bloodsugar">
      </label> -->
				<div class="item-input">
  				<label class="item item-input item-floating-label">
  					<span class="input-label">Random</span>
  					<input type="number" placeholder="RBS value in mg/DL" ng-model="data.bloodsugar.rbs">
  				</label>
        </div>
        <div class="item-input">
  				<label class="item item-input item-floating-label">
  					<span class="input-label">Fasting</span>
  					<input type="number" placeholder="FBS value in mg/DL" ng-model="data.bloodsugar.fbs">
  				</label>
        </div>
          <div class="item-input">
  				<label class="item item-input item-floating-label">
  					<span class="input-label">Post Prandial</span>
  					<input type="number" placeholder="PPBS value mg/DL" ng-model="data.bloodsugar.ppbs">
  				</label>
				</div>
        <div class="item-input">
  				<label class="item item-input item-floating-label">
  				<span class="input-label">Notes</span>
  					<textarea  placeholder="Notes" ng-model="data.bloodsugar.notes"></textarea>
  				</label>
        </div>
			</div>

			<div class="list" ng-if="trackername === 'Blood Pressure'">
			 	<div class="item item-divider">
			 		<div class="pull-left" >{{tdate | date: "dd MMM yy hh:mm a"}}</div>
				</div>
        <div class="item-input">
  				<label class="item item-input item-floating-label">
  					<span class="input-label">Systolic</span>
  					<input type="number" placeholder="Systolic Blood Pressure" ng-model="data.bloodpressure.systolic">
  				</label>
        </div>
        <div class="item-input">
  				<label class="item item-input item-floating-label">
  					<span class="input-label">Diastolic</span>
  					<input type="number" placeholder="Diastolic Blood Pressure" ng-model="data.bloodpressure.diastolic">
  				</label>
        </div>
				<div class="item-input">
				  <label class="item item-input item-floating-label">
			  	      <span class="input-label">Notes</span>
    			      <textarea placeholder="Notes" ng-model="data.bloodpressure.notes"></textarea>
  		  	</label>
          </div>
          </div>
			  </div>
       <div class="list" ng-if="trackername === 'Medication'" >
				<div class="item item-divider">
					<div class="pull-left" >{{tdate | date: "dd MMM yy hh:mm a"}}</div>
				</div>
        <div class="item-input">
				      <label class="item item-input item-floating-label">
            	<span class="input-label">Medication</span>
            	<input type="text" placeholder="Medication details" name="medication" ng-model="data.medication.value">
          		</label>
        </div>
        <div class="item-input">
  			 	<label class="item item-input item-floating-label">
  			  	<span class="input-label">Notes</span>
      			<textarea placeholder="Notes" ng-model="data.medication.notes"></textarea>
    		  </label>
        </div>
			</div>
        	<div class="list" ng-if="trackername === 'Allergies'">
           		<div class="item item-divider">
					<div class="pull-left" >{{tdate | date: "dd MMM yy hh:mm a"}}</div>
				</div>
				<label class="item item-input item-floating-label">
            	<span class="input-label">Allergies</span>
            	<input type="text" placeholder="Ex : Peanuts, dust mites" name="allergies" ng-model="data.allergies.value">
				</label>
				<label class="item item-input item-floating-label">
				<span class="input-label">Notes</span>
				<textarea placeholder="Notes" ng-model="data.allergies.notes"></textarea>
  		  		</label>
        	</div>

			<div class="list" ng-if="trackername === 'notes'">
				<div class="item item-divider">
					<div class="pull-left" >{{tdate | date: "dd MMM yy hh:mm a"}}</div>
				</div>
				<label class="item item-input item-floating-label">
				<span class="input-label">Notes</span>
					<textarea  placeholder="Notes"></textarea>
				</label>
			</div>
      <div class="pull-center">
				<button class="button button-outline button-assertive" ng-click="create(data)">Submit</button>
			</div>
		</form>
	</ion-content>
	</ion-modal-view>
</script>
</ion-view>
